{"version":3,"sources":["./src/app/layout/recovery/recovery-routing.module.ts","./src/app/layout/recovery/recovery.component.html","./src/app/layout/recovery/recovery.component.scss","./src/app/layout/recovery/recovery.component.ts","./src/app/layout/recovery/recovery.module.ts"],"names":[],"mappings":"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","file":"recovery.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RecoveryComponent } from './recovery.component';\n\nconst routes: Routes = [\n    { path: '', component: RecoveryComponent }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class RecoveryRoutingModule { \n    \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/layout/recovery/recovery-routing.module.ts","module.exports = \"<div [@routerTransition]>\\n\\n    <ngb-alert type=\\\"warning\\\" *ngIf=\\\"!passclosed\\\" (close)=\\\"passClose()\\\">Your password did not match, please try again.</ngb-alert>\\n    <ngb-alert type=\\\"success\\\" *ngIf=\\\"restored\\\" (close)=\\\"passClose()\\\">You have successfully changed your password! Thank you!</ngb-alert>\\n    <ngb-alert *ngIf=\\\"passwordLenghtError\\\" type=\\\"warning\\\" (close)=\\\"passClose()\\\">Password must be at least 6 characters long, try again.</ngb-alert>\\n    <!-- <ngb-alert type=\\\"warning\\\" *ngIf=\\\"!serverError\\\" (close)=\\\"passClose()\\\">There was a problem updating your password. Please try again. If the problem persists, please contact an administrator</ngb-alert> -->\\n    <ngb-alert type=\\\"warning\\\" *ngIf=\\\"userNotFound\\\" (close)=\\\"passClose()\\\">This Link was already used to update password. Please request a new Link to Reset the Password.</ngb-alert>\\n\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-4 push-md-4\\\">\\n            <img src=\\\"assets/images/logo.png\\\" width=\\\"150px\\\" class=\\\"user-avatar\\\" />\\n            <br />\\n\\n            <h1>Vocabulary in Reading Study</h1>\\n            <br />\\n            <br />\\n            <form>\\n                <div class=\\\"form-content\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <input type=\\\"password\\\" [(ngModel)]=\\\"newpassW\\\" class=\\\"form-control input-underline input-lg\\\" id=\\\"newpassW\\\" name=\\\"newpassW\\\"\\n                            placeholder=\\\"Choose Password\\\" required />\\n                    </div>\\n\\n                    <div class=\\\"form-group\\\">\\n                        <input type=\\\"password\\\" [(ngModel)]=\\\"copynewpassW\\\" class=\\\"form-control input-underline input-lg\\\" id=\\\"copynewpassW\\\" name=\\\"copynewpassW\\\"\\n                            placeholder=\\\"Confirm Password\\\" required />\\n                    </div>\\n                </div>\\n            </form>\\n            <br />\\n            <br />\\n            <button class=\\\"btn btn-primary btn-block\\\" type=\\\"submit\\\" (click)=\\\"changeUserPassword(content)\\\"> Register Password </button>\\n            &nbsp;\\n\\n        </div>\\n    </div>\\n\\n\\n    <!--This is the modal for register warning-->\\n    <ng-template #content let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\n        <div class=\\\"modal-header\\\">\\n            <h4>\\n                Error\\n                <i class=\\\"fa fa-fw fa-exclamation\\\"></i>\\n            </h4>\\n            <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"d('Cross click')\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n            <!--Alert-->\\n            <div *ngIf=\\\"show\\\">\\n                Please choose another user name, the one you chose is taken...\\n            </div>\\n            <div>\\n                <strong>Sorry! </strong>\\n            </div>\\n        </div>\\n    </ng-template>\\n</div>\\n<br>\\n<br>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/layout/recovery/recovery.component.html\n// module id = ./src/app/layout/recovery/recovery.component.html\n// module chunks = recovery.module","module.exports = \"h1 {\\n  text-align: center; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/layout/recovery/recovery.component.scss\n// module id = ./src/app/layout/recovery/recovery.component.scss\n// module chunks = recovery.module","import { Component, OnInit, NgModule, Input } from '@angular/core';\nimport { routerTransition } from '../../router.animations';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { NgbModule, NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport { RegisterService } from '../../shared/services/register.service'\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { IUser } from '../../shared/interface/IUser';\nimport { JsEncryption } from 'app/shared/services/jsEncryption.service';\nimport { ActivatedRoute } from '@angular/router';\n\n\n@Component({\n    selector: 'app-tests',\n    templateUrl: './recovery.component.html',\n    styleUrls: ['./recovery.component.scss'],\n    animations: [routerTransition()],\n    providers: [RegisterService]\n})\n\n\nexport class RecoveryComponent implements OnInit {\n\n    closeR: string;\n    userpass: IUser;\n    token: string;\n\n    encrypass: string; // new user's password encrypted\n    storepassW: string;\n    localStorUsername: string;  //to save current user name from the localStorage\n\n    logged: boolean = false;\n    serverError: boolean = true;\n    userNotFound: boolean = false;\n    passprocessing: boolean;\n    passmatch: boolean;\n    curentpassmatch: boolean;\n    passclosed: boolean = true;\n    passregistered: boolean = false;\n    passshow: boolean = false;\n    passwordLenghtError: boolean;\n    restored: boolean\n    emailSent: boolean;\n    tokenValid: boolean;\n    userNameDb: string;\n    emailDb: string;\n\n    userEmail: string;\n\n\n    @Input() currentpassW: string; //getting current password from html\n    @Input() newpassW: string; //getting new password from html\n    @Input() copynewpassW: string; //getting copy of the new password from html to confirm new passw\n\n    //@Input() emailEnter: string;// get email from customer from html\n    @Input() userNameEnter: string; // get username from customer from html\n\n\n\n    constructor(private _passModalService: NgbModal, private _passRegister: RegisterService,\n        private _passEncryptor: JsEncryption, private _route: ActivatedRoute) {\n\n    }\n\n    ngOnInit() {\n        this.token = this._route.snapshot.queryParamMap.get('token')\n    }\n\n    // close\n    passClose() {\n        this.passclosed = true;\n        this.passregistered = false;\n        this.logged = false;\n        this.passwordLenghtError = false;\n        this.passshow = false;\n        this.serverError = false;\n        this.userNotFound = false;\n    }\n\n\n    // ** (ok) ** finding if the password has at least 6 characters \n    newpasswLenght() {\n        this.passshow = false;\n\n        if (!this.newpassW || this.newpassW.length < 6) {\n            this.passwordLenghtError = true;\n        }\n        else {\n            this.passwordLenghtError = false;\n        }\n    }\n\n    // ** (ok) ** to compare the new password and its copy/ confirming newpassword basically\n    newpasswCompare() {\n        if (this.newpassW === this.copynewpassW) {\n            this.passmatch = true;\n            this.passclosed = true;\n            this.curentpassmatch = true;\n        }\n        else {\n            this.passmatch = false;\n            this.passclosed = false;\n        }\n    }\n\n    //  ** (ok) ** verifies if the user is in the data based current password retrieved from data base with the enter current password from html\n    changeUserPassword(content) {\n        this.passwordLenghtError = false;\n        this.newpasswLenght();\n        this.newpasswCompare();\n        this.serverError = false;\n        console.log(this.currentpassW)\n        console.log(this.newpassW)\n        let password = this._passEncryptor.encrypt(this.currentpassW);\n        let newPassword = this._passEncryptor.encrypt(this.newpassW);\n        console.log(this.newpassW)\n        console.log(newPassword)\n        if (!this.passmatch || !this.curentpassmatch || this.passwordLenghtError) {\n            this.logged = false\n            return;\n        }//if\n\n        // saving the encrypted password\n        this.logged = false;\n        var updatePassword = true;\n        this._passRegister.resetPassword({ 'token': this.token, 'password': newPassword })\n            .subscribe(res => {\n                this.restored = true\n            }, (err) => {\n                switch (err.status) {\n                    case 200:\n                        this.restored = true\n                        break;\n                    case 401:\n                        this.passclosed = false;\n                        this.userNotFound = false;\n                        this.serverError = false;\n                        break;\n                    case 404:\n                        this.userNotFound = true;\n                        this.passclosed = true;\n                        this.serverError = false;\n                        break;\n                    case 500:\n                        this.serverError = true;\n                        this.userNotFound = false;\n                        this.passclosed = true;\n                        break;\n                }\n            })\n    }\n\n\n    // --------------------*************   MY code   *************-----------------------------------  \n\n    resetUserPassword(content) {\n        this.passwordLenghtError = false;\n        this.newpasswLenght();\n        this.newpasswCompare();\n        this.validToken();\n        this.serverError = false;\n\n        //this.sendEmail();\n\n        var user = {};\n        user[\"updatePassword\"] = true;\n        //user[\"password\"] = this._passEncryptor.encrypt(this.currentpassW);\n        user[\"newPassword\"] = this._passEncryptor.encrypt(this.newpassW);\n\n        if (!this.passmatch || !this.curentpassmatch || this.passwordLenghtError || !this.tokenValid)// add || this.tokenValid\n        {\n            this.logged = false\n            return;\n        }//if\n\n        // saving the encrypted password\n        this.logged = false;\n        var updatePassword = true;\n        this._passRegister.patchUser(<IUser>user, this.userNameEnter, updatePassword)\n            .subscribe\n            (res => {\n                this.logged = true;\n                user = null;\n                updatePassword = null;\n            },\n            (err: HttpErrorResponse) => {\n                switch (err.status) {\n                    case 401:\n                        this.passclosed = false;\n                        this.userNotFound = false;\n                        this.serverError = false;\n                        break;\n                    case 404:\n                        this.userNotFound = true;\n                        this.passclosed = true;\n                        this.serverError = false;\n                        break;\n                    case 500:\n                        this.serverError = true;\n                        this.userNotFound = false;\n                        this.passclosed = true;\n                        break;\n                }//switch\n                user = null;\n                updatePassword = null;\n            }\n            );\n\n    }\n    sendEmail() {\n        if (this.userNameEnter != null) {\n            this._passRegister.getUser(this.userNameEnter)\n                .subscribe(res => {\n                    this.userEmail = res.email\n                    //send the email to this.userEmail\n                    this.emailSent = true;\n                },\n                    (err: HttpErrorResponse) => {\n                        if (err.error instanceof Error) {\n                            console.log('Client-side Error occured');\n                        } else {\n                            this.passprocessing = false;\n                            console.log('Server-side Error occured');\n                        }\n                    }\n                );\n        }\n        else {\n            this.emailSent = false;\n\n        }\n    }\n\n    validToken() {\n        this.sendEmail() //I'm not sure if you calles form here or from the html\n        // if (emailSent){\n        // if (token)\n        //{this.tokenValid = true}\n    }\n\n\n    // --------------------------------------------------------------------------------------  \n\n    // ** (ok) ** Opens or closes the modal\n    open(content) {\n        this._passModalService.open(content).result.then((result) => {\n            this.closeR = `Closed with: ${result}`;\n        }, (reason) => {\n            this.closeR = `Dismissed ${this.getPassDismissReason(reason)}`;\n        });\n    }\n\n\n\n    //  ** (ok) **  \n    private getPassDismissReason(reason: any): string {\n        if (reason === ModalDismissReasons.ESC) {\n            return 'by pressing ESC';\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n            return 'by clicking on a backdrop';\n        } else {\n            return `with: ${reason}`;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/layout/recovery/recovery.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgbModule, NgbAlertModule } from '@ng-bootstrap/ng-bootstrap';\nimport { FormsModule } from '@angular/forms';\n\n\nimport { RecoveryRoutingModule } from './recovery-routing.module';\nimport { RecoveryComponent } from './recovery.component';\nimport { RegisterService } from '../../shared/services/register.service'\n\n@NgModule({\n    imports: [\n        CommonModule,\n        NgbAlertModule.forRoot(),\n        RecoveryRoutingModule,\n        NgbModule.forRoot(),\n        FormsModule,       \n\n    ],\n    declarations: [\n        RecoveryComponent,\n    ],\n    providers: [RegisterService]\n})\nexport class RecoveryModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/layout/recovery/recovery.module.ts"],"sourceRoot":"webpack:///"}